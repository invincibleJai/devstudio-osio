<html>
    <head>
    </head>
<body>
<h1>Welcome to OSIO</h1>
<table>
    <tr>
        <td>Acccess token</td><td><div id="access_token_text"></div></td><td><div id="access_token" style="display: none"></div></td>
    </tr>
    <tr>
        <td>Expires in</td><td><div id="expires_in_text"></div></td><td><div id="expires_in" style="display: none"></div></td>
    </tr>
    <tr>
        <td>Refresh token</td><td><div id="refresh_token_text"></div></td><td><div id="refresh_token" style="display: none"></div></td>
    </tr>
    <tr>
        <td>Expires in</td><td><div id="refresh_expires_in_text"></div></td><td><div id="refresh_expires_in" style="display: none"></div></td>
    </tr>
</table>
</body>
    <script>
            var _GET = (function() {
    var _get = {};
    var re = /[?&]([^=&]+)(=?)([^&]*)/g;
    while (m = re.exec(location.search))
        _get[decodeURIComponent(m[1])] = (m[2] == '=' ? decodeURIComponent(m[3]) : true);
    return _get;
})();


function displayField(doc, source, name) {
    if (source[name]) {
        var element = doc.getElementById(name + "_text");
        if (element) {
            element.innerText = source[name].substring(0, 16);
        }
        element = doc.getElementById(name);
        if (element) {
            element.innerText = source[name];
        }
    }
}

var info = JSON.parse(_GET.token_json);
console.log(info);

var fields = ["access_token", "refresh_token", "expires_in", "refresh_expires_in"];
for (var i=0; i < fields.length;++i) {
  displayField(document, info, fields[i]);
}
            </script>
    <html>
